docker {
  enabled = false
}

executor {
  name = 'lsf'
  perJobMemLimit = true
}

process {
  withName: 'scanem' {
    memory = '10 GB'
    cpus = 10
    queue = 'gpu-normal'
    clusterOptions = "-gpu 'num=1'"
  }

  withName: 'tomtom' {
    cpus = 10
    container = 'shub://jacobhepkema/singularity_custom_meme:latest'
    memory = '2GB'
  }

  withName: 'tomtom_allmotifs' {
    cpus = 10
    container = 'shub://jacobhepkema/singularity_custom_meme:latest'
    memory = '2GB'
  }
  
  withName: 'motif_analysis' {
    cpus = 10
    container = 'shub://jacobhepkema/scanem-r:latest'
    memory = '2GB'
  }

}

params.tomtom_singularity = true

singularity {
  runOptions = '--no-home --cleanenv'
  enabled = true
  autoMounts = true
}
